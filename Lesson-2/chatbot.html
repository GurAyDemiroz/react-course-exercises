<!DOCTYPE html>
<html>
  <head>
    <title>Chatbot</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="js-container"></div>

    <script src="./react-basics.js"></script>

    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>
    <script type="text/babel">
      function ChatInput() {
        return (
          <div className="chatbot-container">
            <div className="chat-input-container">
              <input 
                type="text" 
                placeholder="Send a message to Chatbot" />
              <button>Send</button>
            </div>
          </div>
        );
      }

      // props === properties
      // props bir objedir { message: "hello chatbot" }
      // props componenti yeniden kullanılır hale getiriyor
      function ChatMessage({ message, sender }) {
        // console.log(props);

        // const message = props.message;
        // const sender = props.sender;

        // const {message, sender} = props;
        /*
        if(sender === "robot"){
          return (
            <div >
              <img src="./images/chatbot-profile.jpg" alt="Profile" width="50"/>
              {message}
            </div>
          );
        }
        */
        return (
          <div className={`message-div message-div--${sender}`}>
            {sender === "robot" && (
              <img
                src="./images/chatbot-profile.jpg"
                alt="Profile"
                width="50"
              />
            )}

            {sender === "robot" ? (
              <p className="message-p">{message}</p>
            ) : <p style={{ backgroundColor: 'rgba(0, 203, 0, 0.687)', border:'1px solid rgb(0, 132, 0)' }} className="message-p">{message}</p> }

            {sender === "user" && (
              <img src="./images/user.png" alt="Profile" width="50" />
            )}
          </div>
        );
      }
      

      function App() {
        return (
          <div className="app-container">
            <ChatInput />
            <div className="message-container">
              <ChatMessage message="Merhaba Chatbot" sender="user" />
              <ChatMessage
                message="Merhaba nasıl yardımcı olabilirim?"
                sender="robot"
              />
              <ChatMessage message="Bugün günlerden ne?" sender="user" />
              <ChatMessage message="Bugün günlerden October 10" sender="robot" />
            </div>
          </div>
        );
      }

      // const App = (
      //   <div className="app-container">
      //     <ChatInput />
      //     <div className="message-container">
      //       <ChatMessage message="Merhaba Chatbot" sender="user" />
      //       <ChatMessage
      //         message="Merhaba nasıl yardımcı olabilirim?"
      //         sender="robot"
      //       />
      //       <ChatMessage message="Bugün günlerden ne?" sender="user" />
      //       <ChatMessage message="Bugün günlerden October 10" sender="robot" />
      //     </div>
      //   </div>
      // );

      const container = document.querySelector(".js-container");
      ReactDOM.createRoot(container).render(<App />);
    </script>
  </body>
</html>
